; Listing generated by Microsoft (R) Optimizing Compiler Version 15.00.21022.08 

include listing.inc

INCLUDELIB OLDNAMES

PUBLIC	gzclose
;	COMDAT pdata
; File d:\lp_solve_5.5\xli\xli_zimpl\ziboptvs10\thirdparty\zlib\gzclose.c
pdata	SEGMENT
$pdata$gzclose DD imagerel $LN6
	DD	imagerel $LN6+86
	DD	imagerel $unwind$gzclose
pdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$gzclose DD 010901H
	DD	06209H
; Function compile flags: /Odtp
xdata	ENDS
;	COMDAT gzclose
_TEXT	SEGMENT
state$ = 32
tv70 = 40
file$ = 64
gzclose	PROC						; COMDAT

; 13   : {

$LN6:
  00000	48 89 4c 24 08	 mov	 QWORD PTR [rsp+8], rcx
  00005	48 83 ec 38	 sub	 rsp, 56			; 00000038H

; 14   : #ifndef NO_GZCOMPRESS
; 15   :     gz_statep state;
; 16   : 
; 17   :     if (file == NULL)

  00009	48 83 7c 24 40
	00		 cmp	 QWORD PTR file$[rsp], 0
  0000f	75 07		 jne	 SHORT $LN1@gzclose

; 18   :         return Z_STREAM_ERROR;

  00011	b8 fe ff ff ff	 mov	 eax, -2
  00016	eb 39		 jmp	 SHORT $LN2@gzclose
$LN1@gzclose:

; 19   :     state = (gz_statep)file;

  00018	48 8b 44 24 40	 mov	 rax, QWORD PTR file$[rsp]
  0001d	48 89 44 24 20	 mov	 QWORD PTR state$[rsp], rax

; 20   : 
; 21   :     return state->mode == GZ_READ ? gzclose_r(file) : gzclose_w(file);

  00022	48 8b 44 24 20	 mov	 rax, QWORD PTR state$[rsp]
  00027	81 38 4f 1c 00
	00		 cmp	 DWORD PTR [rax], 7247	; 00001c4fH
  0002d	75 10		 jne	 SHORT $LN4@gzclose
  0002f	48 8b 4c 24 40	 mov	 rcx, QWORD PTR file$[rsp]
  00034	e8 00 00 00 00	 call	 gzclose_r
  00039	89 44 24 28	 mov	 DWORD PTR tv70[rsp], eax
  0003d	eb 0e		 jmp	 SHORT $LN5@gzclose
$LN4@gzclose:
  0003f	48 8b 4c 24 40	 mov	 rcx, QWORD PTR file$[rsp]
  00044	e8 00 00 00 00	 call	 gzclose_w
  00049	89 44 24 28	 mov	 DWORD PTR tv70[rsp], eax
$LN5@gzclose:
  0004d	8b 44 24 28	 mov	 eax, DWORD PTR tv70[rsp]
$LN2@gzclose:

; 22   : #else
; 23   :     return gzclose_r(file);
; 24   : #endif
; 25   : }

  00051	48 83 c4 38	 add	 rsp, 56			; 00000038H
  00055	c3		 ret	 0
gzclose	ENDP
END
